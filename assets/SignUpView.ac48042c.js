import{_ as m,j as r,r as p,o as u,c as f,a as s,k as l,v as i,l as h,d as _,F as k}from"./index.cf0e6de6.js";import{I as v}from"./informModal.d4f8f82e.js";const w={components:{InformModal:v},data(){return{account:"",password:"",nickName:"",signUpResult:!1}},methods:{async signUp(){const t={email:this.account,password:this.password,nickName:this.nickName,roleId:this.admin?1:2},o=await r.signUp(t);if(o!=null&&o.accessToken){this.signUpResult=!0;const{id:d}=o.user;await r.signAddCollection({userId:d}),this.$refs.modal.openModal("\u8A3B\u518A\u6210\u529F\uFF0C\u8ACB\u91CD\u65B0\u767B\u5165!")}else this.$refs.modal.openModal("\u8A3B\u518A\u5931\u6557")},confirm(){this.signUpResult?(this.$refs.modal.hideModal(),this.$router.push("/login")):this.$refs.modal.hideModal()}}},b={class:"row"},g=s("div",{class:"col"},null,-1),U={class:"col"},M={class:"card"},y=s("div",{class:"card-header text-center"},[s("h3",{class:"display-5"},"\u52A0\u5165\u5357\u90E8\u5403\u8CA8")],-1),N={class:"card-body"},x=s("label",{for:"user"},"\u66B1\u7A31",-1),V=s("label",{for:"user"},"\u5E33\u865F",-1),C=s("label",{for:"pass"},"\u5BC6\u78BC",-1),I={class:"mt-3 form-check"},B=s("label",{class:"form-check-label",for:"admin"},"\u52A0\u5165\u7BA1\u7406\u54E1\u6B0A\u9650",-1),R={class:"card-footer"},A=s("div",{class:"col"},null,-1);function F(t,o,d,T,n,a){const c=p("InformModal");return u(),f(k,null,[s("div",null,[s("div",b,[g,s("div",U,[s("div",M,[y,s("div",N,[x,l(s("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":o[0]||(o[0]=e=>n.nickName=e),id:"nickName",placeholder:"\u8ACB\u8F38\u5165\u7A31\u8B02"},null,512),[[i,n.nickName]]),V,l(s("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":o[1]||(o[1]=e=>n.account=e),id:"account",placeholder:"\u8ACB\u8F38\u5165\u8A3B\u518A\u90F5\u7BB1"},null,512),[[i,n.account]]),C,l(s("input",{type:"password",class:"form-control form-control-sm","onUpdate:modelValue":o[2]||(o[2]=e=>n.password=e),id:"password",placeholder:"\u8ACB\u8F38\u5165\u8A3B\u518A\u5BC6\u78BC"},null,512),[[i,n.password]]),s("div",I,[l(s("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":o[3]||(o[3]=e=>t.admin=e),id:"admin"},null,512),[[h,t.admin]]),B])]),s("div",R,[s("button",{class:"btn btn-primary d-block w-100",id:"signup",onClick:o[4]||(o[4]=(...e)=>a.signUp&&a.signUp(...e))},"\u8A3B\u518A")])])]),A])]),_(c,{ref:"modal",onConfirm:a.confirm},null,8,["onConfirm"])],64)}const E=m(w,[["render",F]]);export{E as default};
